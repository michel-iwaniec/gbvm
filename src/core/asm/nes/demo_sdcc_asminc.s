
FAMISTUDIO_CFG_C_BINDINGS = 1
FAMISTUDIO_CFG_SFX_SUPPORT = 1
FAMISTUDIO_EXP_NONE = 1
FAMISTUDIO_USE_PHASE_RESET = 1
FAMISTUDIO_USE_FAMITRACKER_TEMPO = 1

; FamiStudio config.
FAMISTUDIO_CFG_EXTERNAL       = 1
FAMISTUDIO_CFG_DPCM_SUPPORT   = 1
FAMISTUDIO_CFG_SFX_SUPPORT    = 1 
FAMISTUDIO_CFG_SFX_STREAMS    = 2
FAMISTUDIO_CFG_EQUALIZER      = 1

FAMISTUDIO_USE_VOLUME_TRACK   = 1
FAMISTUDIO_USE_VOLUME_SLIDES  = 1
FAMISTUDIO_USE_PITCH_TRACK    = 1
FAMISTUDIO_USE_SLIDE_NOTES    = 1
FAMISTUDIO_USE_VIBRATO        = 1
FAMISTUDIO_USE_ARPEGGIO       = 1
FAMISTUDIO_CFG_SMOOTH_VIBRATO = 1
FAMISTUDIO_USE_RELEASE_NOTES  = 1
FAMISTUDIO_USE_DUTYCYCLE_EFFECT = 1
FAMISTUDIO_DPCM_OFF           = 0xE000

FAMISTUDIO_USE_FAMITRACKER_DELAYED_NOTES_OR_CUTS = 1
FAMISTUDIO_USE_DELTA_COUNTER = 1
FAMISTUDIO_USE_INSTRUMENT_EXTENDED_RANGE = 1

FAMISTUDIO_VERSION_MAJOR  = 4
FAMISTUDIO_VERSION_MINOR  = 1
FAMISTUDIO_VERSION_HOTFIX = 0

; SDAS-specific config.
.define FAMISTUDIO_SDAS_ZP_SEGMENT   "_ZP"
.define FAMISTUDIO_SDAS_RAM_SEGMENT  "_BSS"
.define FAMISTUDIO_SDAS_CODE_SEGMENT "_CODE_5"

.include "..\famistudio_sdas.inc"

;;;

.area _HOME

_music_update_driver::
    lda _music_current_track_bank
    sta 0xC000
    jsr famistudio_update
    jsr _famistudio_update_apu_regs
    lda *__current_bank
    sta 0xC000
    rts


.area _DPCM (ABS)
.org 0xFF00
